:root{
  --bg:#fbfaf8;
  --ink:#111;
  --muted:#5b5b5b;
  --rule:#d8d4ce;
  --card:#ffffff;
  --soft:#f2efea;
  --link:#0b57d0;
  --radius:18px;
  --shadow: 0 10px 30px rgba(0,0,0,.06);
}

*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--ink); }
body{
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  line-height:1.35;
}

a{ color:var(--link); text-decoration:none; }
a:hover{ text-decoration:underline; }

.sr-only{ position:absolute; left:-9999px; }
.skip{ position:absolute; left:-9999px; top:auto; }
.skip:focus{ left:16px; top:16px; background:var(--card); padding:10px 12px; border-radius:10px; box-shadow:var(--shadow); }

.site-header{
  position:sticky; top:0; z-index:20;
  backdrop-filter:saturate(120%) blur(8px);
  background:rgba(251,250,248,.88);
}
.topbar{
  max-width:1200px;
  margin:0 auto;
  padding:16px 18px;
  display:flex;
  align-items:center;
  gap:18px;
}
.brand{ display:flex; align-items:center; gap:12px; min-width:220px; flex-shrink: 1; }
.brand__mark{ width:14px; height:46px; background:var(--ink); border-radius:999px; }
.brand__title{ font-size:18px; letter-spacing:.06em; text-transform:uppercase; font-family: "Papyrus", fantasy; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100%; }
.brand__sub{ font-size:13px; color:var(--muted); margin-top:2px; }

.nav{ display:flex; gap:12px; flex-wrap:wrap; }
.nav__link{
  padding:8px 10px;
  border-radius:999px;
  color:var(--ink);
}
.nav__link.is-active{ background:var(--soft); }

.actions{ margin-left:auto; display:flex; align-items:center; }
.search input{
  width:min(420px, 44vw);
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--rule);
  background:#fff;
  font-size:14px;
}

.rule{ height:1px; background:var(--rule); }

.page{ max-width:1200px; margin:0 auto; padding:20px 18px 60px; }

.hero{
  display:grid;
  grid-template-columns: 1.2fr 1fr;
  gap:18px;
  background:var(--card);
  border:1px solid var(--rule);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}
.hero__media{
  min-height:340px;
  background:linear-gradient(135deg, #e9e3da, #f7f3ee);
}
.hero__content{ padding:22px 22px 18px; }
.hero__title{ font-size:40px; margin:10px 0 10px; line-height:1.05; }
.kicker{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  letter-spacing:.08em; text-transform:uppercase;
  font-size:12px; color:var(--muted);
}
.dek{ font-size:18px; color:#222; margin:0 0 12px; }
.meta{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--muted); font-size:13px;
  display:flex; gap:10px; flex-wrap:wrap;
}
.btn{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  border:1px solid var(--rule);
  background:#fff;
  padding:10px 12px;
  border-radius:999px;
  cursor:pointer;
}
.btn:hover{ background:var(--soft); }
.btn[disabled]{ opacity:.55; cursor:not-allowed; }
.btn--ghost{ background:transparent; }

.error{
  margin:12px 0 0;
  font-family: ui-sans-serif, system-ui;
  font-size:13px;
  color:#7a1c1c;
}

.grid{
  margin-top:18px;
  display:grid;
  grid-template-columns: 1fr 320px;
  gap:18px;
}

/* Active Filter Indicator */
.active-filter {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  background: rgba(11, 87, 208, 0.08);
  border: 1px solid rgba(11, 87, 208, 0.2);
  border-radius: 6px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 13px;
  margin-right: 12px;
}

.active-filter__label {
  color: var(--muted);
}

.active-filter__tag {
  color: var(--link);
  font-weight: 500;
}

.active-filter__clear {
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  padding: 0;
  margin-left: 4px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s ease;
}

.active-filter__clear:hover {
  background: rgba(0, 0, 0, 0.1);
  color: var(--ink);
}

.section-head{
  display:flex; align-items:baseline; justify-content:space-between;
  margin:18px 0 10px;
}
.section-title{ margin:0; font-size:22px; }
.section-sub{ color:var(--muted); font-family: ui-sans-serif, system-ui; font-size:13px; }

/* Directory page section controls - light theme */
.page-directory .section-sub {
  color: var(--light-text-muted);
}

.page-directory .section-title {
  color: var(--light-text);
}

.feed{ display:flex; flex-direction:column; gap:12px; }

.row{
  display:grid;
  grid-template-columns: 160px 1fr;
  gap:14px;
  padding:14px;
  border-radius:var(--radius);
  background:var(--card);
  border:1px solid var(--rule);
}
.thumb{
  height:110px;
  border-radius:14px;
  background:linear-gradient(135deg, #efe9df, #fbf8f3);
}
.headline{ font-size:22px; margin:6px 0 6px; line-height:1.1; }
.preview{ color:#222; margin:0 0 10px; font-size:16px; }
.tags{ display:flex; gap:8px; flex-wrap:wrap; }
.tag{
  font-family: ui-sans-serif, system-ui;
  font-size:12px;
  padding:6px 8px;
  background:var(--soft);
  border-radius:999px;
  color:#333;
}

.sidebar .card{
  background:var(--card);
  border:1px solid var(--rule);
  border-radius:var(--radius);
  padding:14px;
  box-shadow:var(--shadow);
  margin-bottom:12px;
}
.card__title{ margin:0 0 10px; font-size:16px; }
.card__text{ margin:0; color:#222; }

/* Directory page sidebar cards - light theme */
.page-directory .card__title {
  color: var(--light-text);
}

.page-directory .card__text {
  color: var(--light-text-body);
}

.mini-list{ display:flex; flex-direction:column; gap:10px; }
.mini-item{ display:flex; flex-direction:column; gap:4px; }
.mini-item a{ font-family: ui-sans-serif, system-ui; font-size:14px; color:var(--ink); }
.mini-item span{ font-family: ui-sans-serif, system-ui; font-size:12px; color:var(--muted); }

.chips{ display:flex; gap:8px; flex-wrap:wrap; }
.chip{
  font-family: ui-sans-serif, system-ui;
  font-size:13px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--rule);
  background:#fff;
  cursor:pointer;
}
.chip:hover{ background:var(--soft); }

.reader{
  width:min(1200px, 95vw);
  max-height: 90vh;
  border:none;
  border-radius:22px;
  padding:0;
  box-shadow: 0 25px 70px rgba(0,0,0,.25);
  overflow: hidden;
}
.reader::backdrop{ background:rgba(0,0,0,.45); }
.reader__close{ display:flex; justify-content:flex-end; padding:12px 12px 0; position: sticky; top: 0; background: white; z-index: 10; border-bottom: 1px solid #e5e5e5; }
.close-icon-btn {
  width: 32px;
  height: 32px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  line-height: 1;
  font-weight: 300;
  border-radius: 50%;
  transition: all 0.2s ease;
}
.close-icon-btn:hover {
  background: #f0f0f0;
  transform: scale(1.1);
}
.reader__article{ padding:0; max-height: calc(90vh - 60px); overflow-y: auto; }
.reader__article h2{ font-size:34px; margin:10px 0 8px; line-height:1.05; }
.reader__links{ margin:10px 0 6px; display:flex; gap:10px; flex-wrap:wrap; }
.reader__body{ font-size:18px; color:#111; }
.soft{ border:none; height:1px; background:var(--rule); margin:14px 0; }
.attachments{ margin-top:14px; font-family: ui-sans-serif, system-ui; font-size:14px; }

/* Article Detail Two-Column Layout */
.article-detail-layout {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 40px;
  padding: 20px 40px 40px;
  min-height: 0;
}

.article-metadata {
  position: sticky;
  top: 20px;
  height: fit-content;
  max-height: calc(90vh - 40px);
  overflow-y: auto;
}

.article-title {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 28px;
  font-weight: 600;
  line-height: 1.2;
  margin: 0 0 24px 0;
  color: #111;
  padding-bottom: 20px;
  border-bottom: 2px solid #e5e5e5;
}

.metadata-section {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 24px;
}

.metadata-row {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.metadata-label {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #666;
}

.metadata-value {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  color: #111;
}

.metadata-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 4px;
}

.metadata-tags .article-tag {
  display: inline-block;
  padding: 4px 10px;
  background: rgba(11, 87, 208, 0.1);
  color: #0b57d0;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 500;
}

.quick-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding-top: 20px;
  border-top: 1px solid #e5e5e5;
}

.action-btn {
  padding: 10px 16px;
  background: transparent;
  border: 1px solid #e5e5e5;
  border-radius: 6px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  color: #111;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
}

.action-btn:hover {
  background: #f5f5f5;
  border-color: #ccc;
}

.action-links {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.action-links .link-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: rgba(11, 87, 208, 0.08);
  color: #0b57d0;
  border-radius: 6px;
  font-size: 13px;
  text-decoration: none;
  transition: all 0.2s ease;
}

.action-links .link-badge:hover {
  background: rgba(11, 87, 208, 0.15);
}

.article-content {
  min-width: 0;
}

/* Accordion Styles */
.accordion-section {
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  margin-bottom: 16px;
  overflow: hidden;
}

.accordion-header {
  width: 100%;
  padding: 16px 20px;
  background: #fafafa;
  border: none;
  border-bottom: 1px solid #e5e5e5;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 16px;
  font-weight: 600;
  color: #111;
  text-align: left;
  transition: background 0.2s ease;
}

.accordion-header:hover {
  background: #f0f0f0;
}

.accordion-header[aria-expanded="true"] {
  background: #fff;
  border-bottom-color: #e5e5e5;
}

.accordion-header[aria-expanded="true"] .accordion-icon {
  transform: rotate(180deg);
}

.accordion-icon {
  transition: transform 0.2s ease;
  font-size: 12px;
  color: #666;
}

.accordion-content {
  display: none;
  padding: 20px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 16px;
  line-height: 1.6;
  color: #111;
}

.accordion-content.active {
  display: block;
}

.accordion-content h1,
.accordion-content h2,
.accordion-content h3 {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  margin-top: 24px;
  margin-bottom: 12px;
  font-weight: 600;
}

.accordion-content h1 { font-size: 28px; }
.accordion-content h2 { font-size: 24px; }
.accordion-content h3 { font-size: 20px; }

.accordion-content p {
  margin-bottom: 16px;
}

.accordion-content ul,
.accordion-content ol {
  margin-bottom: 16px;
  padding-left: 24px;
}

.accordion-content li {
  margin-bottom: 8px;
}

.accordion-content a {
  color: #0b57d0;
  text-decoration: underline;
}

.accordion-content a:hover {
  color: #084298;
}

/* Attachments in accordion */
.accordion-content .attachments-section {
  margin: 0;
}

.accordion-content .attachment-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.accordion-content .attachment-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px;
  background: #fafafa;
  border: 1px solid #e5e5e5;
  border-radius: 6px;
  text-decoration: none;
  color: #111;
  transition: all 0.2s ease;
}

.accordion-content .attachment-card:hover {
  background: #f0f0f0;
  border-color: #ccc;
}

.accordion-content .attachment-icon {
  font-size: 20px;
}

.accordion-content .attachment-name {
  font-size: 13px;
  font-weight: 500;
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Responsive */
@media (max-width: 1024px) {
  .article-detail-layout {
    grid-template-columns: 1fr;
    gap: 24px;
    padding: 20px;
  }

  .article-metadata {
    position: relative;
    top: 0;
    max-height: none;
  }
}

@media (max-width: 768px) {
  .reader {
    width: 100vw;
    max-height: 100vh;
    border-radius: 0;
  }

  .article-detail-layout {
    padding: 16px;
  }

  .article-title {
    font-size: 24px;
  }

  .accordion-header {
    padding: 14px 16px;
    font-size: 15px;
  }

  .accordion-content {
    padding: 16px;
    font-size: 15px;
  }
}

@media (max-width: 920px){
  .hero{ grid-template-columns: 1fr; }
  .grid{ grid-template-columns: 1fr; }
  .search input{ width:min(520px, 60vw); }
}
@media (max-width: 560px){
  .row{ grid-template-columns: 1fr; }
  .thumb{ height:160px; }
  .hero__title{ font-size:32px; }
}

/* --- New Yorker-ish: cleaner editorial rules, less "app UI" --- */
:root{
  --bg:#000;
  --ink:#fff;
  --muted:#aaa;
  --rule:#333;
  --link:#fff;
}

html,body{ background:var(--bg); color:var(--ink); }

/* Directory page white background - Light Theme Variables */
html:has(.page-directory),
.page-directory {
  --light-text: #111;
  --light-text-body: #333;
  --light-text-muted: #555;
  --light-border: #e5e5e5;
  --light-link: #0b57d0;
  --light-bg: #fff;
  --light-bg-hover: #f5f5f5;
  
  background: var(--light-bg) !important;
  color: var(--light-text) !important;
  min-height: 100vh;
}

/* Base text colors for Directory page */
.page-directory {
  color: var(--light-text);
}

.page-directory a {
  color: var(--light-link);
}
.page-directory a:hover {
  text-decoration: underline;
}

.site-header{
  background:rgba(255,255,255,.95);
  backdrop-filter:saturate(120%) blur(8px);
  border-bottom:1px solid #e6e6e6;
}
.site-header .brand__title,
.site-header .brand__sub,
.site-header .topnav__link,
.site-header input {
  color: #111;
}
.site-header input {
  border-color: #ddd;
}
.rule{ display:none; } /* we use the header border instead */
.brand__mark{ display:none; } /* cleaner */
.brand__title{ font-size:18px; letter-spacing:.08em; font-family: "Papyrus", fantasy; }
.brand__sub{ font-size:12px; }

/* Remove heavy card shadows everywhere */
.hero, .sidebar .card, .row{
  box-shadow:none !important;
  border:0 !important;
  background:transparent !important;
}

/* Directory page sidebar cards - add subtle border for definition */
.page-directory .sidebar .card {
  border: 1px solid var(--light-border) !important;
  background: var(--light-bg) !important;
}
.page{ max-width:1280px; }
.hero{
  border-bottom:1px solid var(--rule) !important;
  border-radius:0 !important;
  padding-bottom:18px;
}
.hero__media{ display:none; } /* optional: NYer pages often don't have a giant hero image */
.hero__title{ font-size:44px; }

/* Modern hero with centered image and overlaid text */
.hero--fullscreen {
  position: relative;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  min-height: auto;
  max-height: none;
  padding: 20px 5% !important;
  border: none !important;
  border-radius: 0 !important;
  overflow: hidden;
  background: #000;
  width: 100vw;
  margin-left: calc(-50vw + 50%);
}

.hero__bg {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  height: 100%;
  width: auto;
  max-width: 60%;
  object-fit: contain;
  object-position: right center;
  opacity: 0.85;
  filter: blur(0.5px) saturate(0.95);
  z-index: 1;
  pointer-events: none;
}

.hero__content--overlay {
  position: relative;
  z-index: 10;
  width: 50%;
  max-width: 600px;
  color: #fff;
  padding: 40px 0;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 60%, rgba(0, 0, 0, 0) 100%);
  padding-left: 60px;
  padding-right: 40px;
  margin-left: 20px;
}

.hero__content--overlay .kicker {
  color: rgba(255,255,255,0.8);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 14px;
}

.hero__content--overlay .hero__title {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  color: #fff;
  font-size: 42px;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  line-height: 1.1;
  margin: 20px 0;
}

.hero__content--overlay .dek {
  color: rgba(255,255,255,0.9);
  font-size: 16px;
  line-height: 1.6;
}

.hero-intro{
  color: rgba(255,255,255,0.92);
  font-size: 18px;
  line-height: 1.6;
  max-width: 1200px;
  width: 100%;
  margin: 12px auto 40px;
  text-align: center;
  padding: 0 24px;
  box-sizing: border-box;
  position: relative;
  z-index: 10;
}
.hero-intro p{
  margin: 0 0 10px;
}

.hero__content--overlay .meta {
  color: rgba(255,255,255,0.7);
  font-size: 14px;
}

.hero__content--overlay .btn {
  background: transparent;
  border-color: rgba(255,255,255,0.5);
  color: #fff;
}

.hero__content--overlay .btn:hover {
  background: rgba(255,255,255,0.1);
}
.dek{ font-size:18px; color:#ccc; }

/* --- Folding menu styling --- */
.nav__details{ position:relative; }
.nav__summary{
  list-style:none;
  cursor:pointer;
  padding:8px 10px;
  border-radius:999px;
}
.nav__summary::-webkit-details-marker{ display:none; }
.nav__panel{
  position:absolute;
  top:42px;
  left:0;
  background:#fff;
  border:1px solid var(--rule);
  padding:10px;
  min-width:220px;
  z-index:50;
}
.nav__item{
  display:block;
  padding:8px 10px;
  border-radius:10px;
}
.nav__item:hover{ background:#f6f6f6; text-decoration:none; }

/* Optional: open on hover (desktop-ish) */
/* .nav__details:hover { open: true; }  <-- not valid CSS everywhere; keep click-to-open */

/* --- Rectangular grid (like the screenshots) --- */
.cards{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap:22px;
  padding-top:14px;
  border-top:1px solid var(--rule);
}

.cardItem{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.cover{
  width:100%;
  aspect-ratio: 16 / 10;     /* “rectangular” */
  background:#f2f2f2;
  border:1px solid var(--rule);
  overflow:hidden;
}
.cover img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.cardTitle{
  font-size:26px;
  line-height:1.1;
  margin:0;
}
.cardDek{
  margin:0;
  color:#333;
  font-size:16px;
  line-height:1.35;
}
.cardMeta{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--muted);
  font-size:13px;
}

@media (max-width: 1100px){
  .cards{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (max-width: 820px){
  .cards{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 520px){
  .cards{ grid-template-columns: 1fr; }
}

/* --- Top category bar like The New Yorker --- */
.topbar{
  justify-content: center;
}
.brand{ margin-right:auto; }   /* keeps EECS182 on left */
.actions{ margin-left:auto; }  /* keeps search on right */

.topnav{
  display:flex;
  align-items:center;
  gap:22px;
  flex-wrap:nowrap;
  white-space:nowrap;
  overflow-x:auto;
  padding:10px 0 12px;
  -webkit-overflow-scrolling: touch;
}

.topnav__link{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size:13px;
  color:#111;
  text-decoration:none;
  padding:6px 0;
  border-bottom:2px solid transparent;
}

.topnav__link.is-active{
  border-bottom-color:#111;
}

.topnav__more{ position:relative; }
.topnav__more > summary{ list-style:none; cursor:pointer; }
.topnav__more > summary::-webkit-details-marker{ display:none; }

.topnav__panel{
  position:absolute;
  top:34px;
  right:0;
  background:#fff;
  border:1px solid var(--rule);
  padding:10px;
  min-width:200px;
  z-index:50;
}

.topnav__item{
  display:block;
  padding:8px 10px;
  border-radius:10px;
  font-family: ui-sans-serif, system-ui;
  font-size:13px;
  color:#111;
}
.topnav__item:hover{
  background:#f6f6f6;
  text-decoration:none;
}

/* --- Text-only “magazine” grid (no images) --- */
.textGrid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap:26px;
  padding-top:18px;
  border-top:1px solid var(--rule);
}

/* Directory page text grid - light theme */
.page-directory .textGrid {
  border-top: 1px solid var(--light-border);
}

.textCard{
  padding-top:8px;
}

.textTitle{
  font-size:26px;
  line-height:1.1;
  margin:0 0 10px;
}

.textDek{
  margin:0 0 12px;
  color:#333;
  font-size:16px;
  line-height:1.45;
}

.textMeta{
  font-family: ui-sans-serif, system-ui;
  color:var(--muted);
  font-size:13px;
}

/* Directory page text overrides */
.page-directory .textTitle,
.page-directory .textTitle a {
  color: var(--light-text);
}

.page-directory .textDek {
  color: var(--light-text-body);
}

.page-directory .textMeta {
  color: var(--light-text-muted);
}

@media (max-width: 1100px){
  .textGrid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (max-width: 820px){
  .textGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 520px){
  .textGrid{ grid-template-columns: 1fr; }
}

/* Top title header */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap');

.top-title {
  text-align: center;
  padding: 24px 0;
  background: #000;
}

.mastheadTitle {
  font-family: 'Papyrus', fantasy;
  font-weight: 400;
  font-size: clamp(16px, 2.2vw, 28px);
  letter-spacing: 0.08em;
  line-height: 1.1;
  text-transform: uppercase;
  color: #fff;
}

/* Bottom navigation bar */
.bottom-nav {
  display: flex;
  justify-content: center;
  gap: 0;
  padding: 16px 18px;
  background: #000;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto 50px;
  box-sizing: border-box;
  position: relative;
  border-top: 1px solid rgba(255, 255, 255, 0.25);
  border-bottom: 1px solid rgba(255, 255, 255, 0.25);
}

.bottom-nav__link {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 18px;
  color: #fff;
  text-decoration: none;
  padding: 8px 0;
  flex: 1;
  text-align: center;
  max-width: 50%;
}
.bottom-nav__link:hover {
  text-decoration: underline;
}

/* Mobile responsive for hero */
@media (max-width: 820px) {
  .hero--fullscreen {
    min-height: auto;
    max-height: none;
    padding: 20px 16px !important;
    justify-content: center;
  }
  
  .hero__bg {
    opacity: 0.8;
    filter: blur(0.5px) saturate(0.9);
  }
  
  .hero__content--overlay { width: 90%; max-width: none; }
  
  .hero__content--overlay .hero__title {
    font-size: 32px;
  }
  
  .hero__content--overlay .dek {
    font-size: 15px;
  }
  
  .hero-intro {
    font-size: 18px;
    max-width: min(820px, calc(100% - 40px));
    margin: 30px auto 0;
    padding: 0 20px;
  }
}

/* Featured Examples Carousel Section */
.featured-examples-section {
  background: #000;
  color: #fff;
  padding: 50px 0;
  width: 100%;
  position: relative;
  overflow: visible; /* Ensure section doesn't clip hover effects */
}

.featured-examples-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.featured-examples-heading {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 32px;
  font-weight: 400;
  text-align: center;
  color: #fff;
  margin: 0 auto 36px;
  letter-spacing: 0.02em;
  line-height: 1.1;
}

.featured-examples-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  width: 100%;
}

.featured-card {
  background: #1a1a1a;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  position: relative;
  z-index: 1;
  cursor: pointer;
  height: auto;
  min-height: 320px;
  box-sizing: border-box;
  justify-content: space-between;
}

.featured-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
  border-color: rgba(255, 255, 255, 0.2);
  z-index: 10; /* Bring hovered card above neighbors */
}

.featured-card__badge {
  display: inline-block;
  padding: 6px 12px;
  background: rgba(88, 166, 255, 0.15);
  color: #58a6ff;
  border-radius: 8px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  width: fit-content;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.featured-card__title {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 20px;
  font-weight: 600;
  color: #fff;
  margin: 0;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.featured-card__author {
  display: none; /* Hide author line to make cards shorter */
}

.featured-card__description {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 15px;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
  flex: 1;
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 0;
}

.featured-card__actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: auto;
  padding-top: 12px;
}

.featured-card__link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 8px;
  color: #fff;
  text-decoration: none;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;
  cursor: pointer;
  margin: 0;
}

.featured-card__link--primary {
  background: rgba(88, 166, 255, 0.15);
  border-color: rgba(88, 166, 255, 0.4);
  color: #58a6ff;
}

.featured-card__link--primary:hover {
  background: rgba(88, 166, 255, 0.25);
  border-color: rgba(88, 166, 255, 0.6);
  text-decoration: none;
}

.featured-card__link--secondary {
  display: none; /* Hide secondary button to match image style */
}

.featured-card__link--secondary:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.5);
  text-decoration: none;
}

@media (max-width: 1400px) {
  .featured-examples-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
}

@media (max-width: 1200px) {
  .featured-examples-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }
  
  .featured-card {
    min-height: 340px;
  }
}

@media (max-width: 768px) {
  .featured-examples-section {
    padding: 60px 0;
  }

  .featured-examples-heading {
    font-size: 24px;
    margin-bottom: 32px;
  }

  .featured-examples-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .featured-card {
    padding: 24px;
    gap: 14px;
    min-height: 300px;
  }

  .featured-card__title {
    font-size: 20px;
  }

  .featured-card__description {
    font-size: 14px;
    -webkit-line-clamp: 5;
  }

  .featured-card__link {
    padding: 11px 20px;
    font-size: 14px;
  }
}

/* Tag Map Section */
.tag-map-section {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px 20px 40px;
    width: 100%;
  position: relative;
}


.tag-map-heading {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 28px;
  font-weight: 400;
    text-align: center;
  color: #fff;
  margin: 0 auto 40px;
  padding-top: 10px;
  letter-spacing: 0.02em;
  line-height: 1.1;
  width: 100%;
  max-width: 1200px;
  box-sizing: border-box;
  position: relative;
}

.tag-map-container {
  position: relative;
  width: 100%;
  height: 900px;
  background: #000;
  border: none;
  outline: none;
  border-radius: var(--radius);
  box-shadow: none;
  overflow: hidden;
  margin: 0 auto;
}

.tag-map-empty {
  padding: 40px;
  text-align: center;
  color: var(--muted);
}

/* Grain texture SVG (inline data URL) */
.tag-map-tile {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 10px 12px;
  background: #1a1a1a;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 0.24s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.24s cubic-bezier(0.4, 0, 0.2, 1),
              filter 0.24s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.22s ease,
              background 0.24s ease;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 1;
  opacity: 0;
  transform: scale(0.8);
  animation: tileEntrance 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  
  /* Layered shadows: ambient + inset highlight */
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.03);
  
  /* Micro-texture grain overlay */
  background-image: 
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E"),
    #1a1a1a;
  
  /* Premium rim-light border using ::before */
  position: relative;
}

.tag-map-tile::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 6px;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(200, 200, 200, 0.08) 25%,
    rgba(150, 150, 150, 0.05) 50%,
    rgba(200, 200, 200, 0.08) 75%,
    rgba(255, 255, 255, 0.15) 100%
  );
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask: 
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask-composite: exclude;
  opacity: 0.3;
  pointer-events: none;
  transition: opacity 0.24s ease;
}

.tag-map-tile::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 60%;
  height: 60%;
  border-radius: 6px 0 50% 0;
  background: radial-gradient(
    circle at 20% 20%,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 30%,
    transparent 70%
  );
  pointer-events: none;
  opacity: 0.08;
  transition: opacity 0.24s ease;
}

@keyframes tileEntrance {
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.tag-map-tile.dimmed {
  opacity: 0.55;
  transition: opacity 0.22s ease;
}

.tag-map-tile.hovered {
  /* Lift and 3D tilt */
  transform: translateY(-4px) scale(1.03) rotateX(1.5deg) rotateY(-1.5deg);
  z-index: 10;
  opacity: 1 !important;
  
  /* Light up effect: brighter background */
  background: #2a2a2a !important;
  filter: brightness(1.4);
  
  /* Stronger glow ring for light-up effect */
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.6),
    0 0 0 8px var(--glow-color, rgba(200, 200, 200, 0.4)),
    0 0 20px rgba(255, 255, 255, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.tag-map-tile.hovered::before {
  opacity: 1;
  /* Brighter rim-light border */
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 255, 255, 0.2) 25%,
    rgba(200, 200, 200, 0.15) 50%,
    rgba(255, 255, 255, 0.2) 75%,
    rgba(255, 255, 255, 0.4) 100%
  );
}

.tag-map-tile.hovered::after {
  opacity: 0.25;
  /* Brighter specular highlight */
  background: radial-gradient(
    circle at 20% 20%,
    rgba(255, 255, 255, 0.25) 0%,
    rgba(255, 255, 255, 0.15) 30%,
    transparent 70%
  );
}


.tag-map-tile.pressed {
  transform: translateY(-2px) scale(0.98) rotateX(0.5deg) rotateY(-0.5deg);
}

.tag-map-tile.clicked {
  transform: scale(0.95);
  opacity: 0.8;
}

/* Weight bucket glow colors (subtle by default, enhanced on hover via --glow-color) */
.tag-map-tile.weight-bucket-1 {
  --glow-color: rgba(150, 150, 150, 0.12);
}

.tag-map-tile.weight-bucket-2 {
  --glow-color: rgba(100, 150, 200, 0.14);
}

.tag-map-tile.weight-bucket-3 {
  --glow-color: rgba(50, 120, 255, 0.16);
}

.tag-map-tile.weight-bucket-4 {
  --glow-color: rgba(11, 87, 208, 0.18);
}

.tag-map-icon {
  font-size: 18px;
  margin-bottom: 4px;
  flex-shrink: 0;
  line-height: 1;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.tag-map-label {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 16px;
  font-weight: 500;
  color: #fff;
  text-align: center;
  word-break: break-word;
  line-height: 1.3;
  margin-bottom: 3px;
  flex-shrink: 0;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  text-overflow: ellipsis;
  max-width: 100%;
  max-height: calc(1.3em * 2);
  position: relative;
  z-index: 2;
}

.tag-map-count {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 13px;
  color: #999;
  text-align: center;
  flex-shrink: 0;
  line-height: 1;
  position: relative;
  z-index: 2;
}

/* Responsive adjustments for tag map */
@media (max-width: 768px) {
  .tag-map-section {
    padding: 40px 16px;
  }
  
  .tag-map-container {
    height: 600px;
  }
  
  .tag-map-tile {
    min-width: 56px;
    min-height: 36px;
    padding: 8px 10px;
  }
  
  .tag-map-icon {
    font-size: 16px;
    margin-bottom: 3px;
  }
  
  .tag-map-label {
    font-size: 14px;
  }
  
  .tag-map-count {
    font-size: 12px;
  }
}

/* Tooltip */
.tag-map-tooltip {
  position: fixed;
  display: none;
  background: rgba(0, 0, 0, 0.95);
  border: 1px solid #444;
  border-radius: 8px;
  padding: 12px 16px;
  z-index: 10000;
  pointer-events: none;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  max-width: 250px;
  animation: tooltipFadeIn 0.2s ease;
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.tooltip-content {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.tooltip-name {
  font-size: 14px;
  font-weight: 600;
  color: #fff;
  margin-bottom: 4px;
}

.tooltip-count {
  font-size: 12px;
  color: #999;
  margin-bottom: 6px;
}

.tooltip-hint {
  font-size: 11px;
  color: #666;
  line-height: 1.4;
}

/* Categories Carousel Section */
.categories-section {
  background: #000;
  color: #fff;
  padding: 0 0 40px;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
  box-sizing: border-box;
}

/* Carousel wrapper for gradient fades */
.categories-section__carousel-wrapper {
  position: relative;
  margin: 0 auto;
  max-width: 1400px;
}

.categories-heading {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 28px;
  font-weight: 400;
  text-align: center;
  color: #fff;
  margin: 0 auto 40px;
  padding-top: 10px;
  letter-spacing: 0.02em;
  line-height: 1.1;
  width: 100%;
  max-width: 1200px;
  box-sizing: border-box;
  position: relative;
}

.categories-heading::before {
  display: none;
}

.category-carousel {
  display: flex;
  gap: 24px;
  overflow-x: auto;
  /* REQUIREMENT 1: Show partial peek of next card */
  padding: 20px 60px 40px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
  width: 100%;
  box-sizing: border-box;
  position: relative;
  /* REQUIREMENT 4: Nudge animation on first load (only if scrollable) */
  /* Animation will be applied via class if carousel is scrollable */
}

.category-carousel.scrollable {
  animation: carouselNudge 1.2s ease-out 0.5s;
}

/* REQUIREMENT 4: Gentle nudge animation to hint scrolling */
@keyframes carouselNudge {
  0%, 100% {
    transform: translateX(0);
  }
  30% {
    transform: translateX(20px);
  }
  60% {
    transform: translateX(0);
  }
}

/* REQUIREMENT 2: Gradient edge fades to imply overflow */
.categories-section__carousel-wrapper::before,
.categories-section__carousel-wrapper::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 60px; /* Leave space for progress bar */
  width: 80px;
  pointer-events: none;
  z-index: 3; /* Above carousel content */
  transition: opacity 0.3s ease;
}

.categories-section__carousel-wrapper::before {
  left: 0;
  background: linear-gradient(to right, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.7) 30%, transparent 100%);
}

.categories-section__carousel-wrapper::after {
  right: 0;
  background: linear-gradient(to left, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.7) 30%, transparent 100%);
}

/* Hide left fade when scrolled to start */
.categories-section__carousel-wrapper.scrolled-start::before {
  opacity: 0;
}

/* Hide right fade when scrolled to end */
.categories-section__carousel-wrapper.scrolled-end::after {
  opacity: 0;
}

/* REQUIREMENT 3: Dots indicator */
.carousel-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 20px;
  padding: 0 60px;
}

.carousel-dots__dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
  cursor: pointer;
  border: none;
  padding: 0;
  margin: 0;
}

.carousel-dots__dot.active {
  background: rgba(255, 255, 255, 0.8);
  width: 24px;
  border-radius: 3px;
}

.carousel-dots__dot:hover {
  background: rgba(255, 255, 255, 0.6);
}

.category-carousel::-webkit-scrollbar {
  height: 8px;
}

.category-carousel::-webkit-scrollbar-track {
  background: transparent;
}

.category-carousel::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 4px;
}

.category-carousel::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

.category-card {
  flex: 0 0 280px;
  min-width: 280px;
  height: 380px;
  background: #000;
  border: none;
  border-radius: 24px;
  padding: 32px 24px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  text-align: center;
  scroll-snap-align: start;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  /* REQUIREMENT 1: Ensure partial visibility for peek effect */
  margin-right: 0;
  text-decoration: none;
  color: inherit;
}

.category-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
}

.category-card__title {
  font-family: 'Caveat', cursive;
  font-size: 24px;
  font-weight: 400;
  color: #fff;
  margin: 0 0 24px 0;
  line-height: 1.3;
}

.category-card__image {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 0 24px 0;
  width: 100%;
  min-height: 0;
}

.category-card__image img {
  max-width: 100%;
  max-height: 180px;
  width: auto;
  height: auto;
  object-fit: contain;
}

.category-card__image-placeholder {
  font-size: 64px;
  color: rgba(255, 255, 255, 0.5);
  font-family: ui-sans-serif, system-ui;
}

.category-card__button {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 13px;
  font-weight: 400;
  color: #fff;
  background: transparent;
  border: none;
  border-radius: 0;
  padding: 0;
  text-decoration: none;
  display: inline-block;
  transition: all 0.2s;
  pointer-events: none;
}

.category-card:hover .category-card__button {
  text-decoration: underline;
  color: #fff;
}

@media (max-width: 640px) {
  .categories-section {
    padding: 60px 16px 40px;
  }
  
  .categories-heading {
    margin-bottom: 40px;
  }
  
  .category-carousel {
    padding: 20px 40px 40px;
  }
  
  .categories-section__carousel-wrapper::before,
  .categories-section__carousel-wrapper::after {
    width: 40px;
  }
  
  .carousel-dots {
    padding: 0 40px;
  }
  
  .category-card {
    flex: 0 0 240px;
    min-width: 240px;
    height: 340px;
    padding: 24px 20px;
  }
  
  .category-card__title {
    font-size: 20px;
  }
  
  .category-card__image img {
    max-height: 140px;
  }
}

/* New Features - Sorting, Filtering, Attachments */

/* Section controls */
.section-controls {
  display: flex;
  align-items: center;
  gap: 16px;
}

.sort-select {
  padding: 6px 12px;
  border: 1px solid var(--rule);
  border-radius: 6px;
  background: var(--bg);
  color: var(--ink);
  font-family: ui-sans-serif, system-ui;
  font-size: 13px;
  cursor: pointer;
}

/* Directory page sort select - light theme */
.page-directory .sort-select {
  border: 1px solid var(--light-border);
  background: var(--light-bg);
  color: var(--light-text);
}

/* Filter bar */
.filter-bar {
  margin: 16px 0;
  padding: 12px 0;
  border-top: 1px solid var(--rule);
  border-bottom: 1px solid var(--rule);
}

/* Directory page filter bar - light theme */
.page-directory .filter-bar {
  border-top: 1px solid var(--light-border);
  border-bottom: 1px solid var(--light-border);
}

.filter-chips {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.filter-chip {
  padding: 8px 14px;
  border: 1px solid var(--rule);
  border-radius: 999px;
  background: transparent;
  color: var(--ink);
  font-family: ui-sans-serif, system-ui;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s;
}

.filter-chip:hover {
  background: rgba(255, 255, 255, 0.05);
}

.filter-chip.active {
  background: var(--ink);
  color: var(--bg);
  border-color: var(--ink);
}

/* Directory page filter chips - light theme */
.page-directory .filter-chip {
  border: 1px solid var(--light-border);
  background: var(--light-bg);
  color: var(--light-text);
}

.page-directory .filter-chip:hover {
  background: var(--light-bg-hover);
}

.page-directory .filter-chip.active {
  background: var(--light-text);
  color: var(--light-bg);
  border-color: var(--light-text);
}

/* Article Tags */
.article-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 8px 0 12px 0;
}

.article-tag {
  display: inline-block;
  padding: 4px 10px;
  background: rgba(11, 87, 208, 0.1);
  color: var(--link);
  border-radius: 12px;
  font-size: 12px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  line-height: 1.4;
  border: 1px solid rgba(11, 87, 208, 0.2);
}

.page-directory .article-tag {
  background: rgba(11, 87, 208, 0.08);
  color: #0b57d0;
  border-color: rgba(11, 87, 208, 0.15);
}

.chip-count {
  color: var(--muted);
  font-weight: 400;
}

/* Attachment badge on cards */
.badge {
  display: inline-block;
  padding: 3px 8px;
  margin-left: 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.1);
  color: var(--muted);
  font-family: ui-sans-serif, system-ui;
  font-size: 11px;
  font-weight: normal;
}

/* Directory page badge - light theme */
.page-directory .badge {
  background: rgba(0, 0, 0, 0.08);
  color: var(--light-text-muted);
}

/* Link badges in reader */
.link-badge {
  display: inline-block;
  padding: 8px 12px;
  margin-right: 8px;
  margin-bottom: 8px;
  border: 1px solid var(--rule);
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.03);
  color: var(--ink);
  text-decoration: none;
  font-size: 13px;
  transition: all 0.2s;
}

.link-badge:hover {
  background: rgba(255, 255, 255, 0.08);
  text-decoration: none;
}

/* Attachments section in reader */
.attachments-section {
  margin-top: 24px;
  padding: 20px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--rule);
}

.attachments-section h3 {
  margin: 0 0 16px 0;
  font-size: 18px;
  color: var(--ink);
}

.attachment-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.attachment-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  border: 1px solid var(--rule);
  border-radius: 8px;
  background: rgba(0, 0, 0, 0.2);
  color: var(--ink);
  text-decoration: none;
  transition: all 0.2s;
}

.attachment-card:hover {
  background: rgba(0, 0, 0, 0.3);
  border-color: var(--ink);
  text-decoration: none;
}

.attachment-icon {
  font-size: 24px;
  flex-shrink: 0;
}

.attachment-name {
  font-size: 13px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Stats list */
.stats-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.stat-item {
  font-family: ui-sans-serif, system-ui;
  font-size: 14px;
  color: var(--ink);
}

.stat-item strong {
  display: inline-block;
  min-width: 60px;
  color: #fff;
  font-size: 18px;
}

/* Directory page stats - light theme */
.page-directory .stat-item {
  color: var(--light-text-body);
}

.page-directory .stat-item strong {
  color: var(--light-text);
}

/* Category list */
.category-list {
  margin: 0;
  padding: 0;
  list-style: none;
}

.category-list li {
  font-family: ui-sans-serif, system-ui;
  font-size: 13px;
  color: var(--muted);
  padding: 6px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

/* Directory page category list - light theme */
.page-directory .category-list li {
  color: var(--light-text-body);
  border-bottom: 1px solid var(--light-border);
}

.category-list li:last-child {
  border-bottom: none;
}

/* Directory search */
.directory-search {
  margin-bottom: 24px;
}
.search--large input {
  width: 100%;
  padding: 14px 18px;
  font-size: 16px;
}

/* Directory page search input - light theme */
.page-directory .search input {
  border-color: var(--light-border);
  background: var(--light-bg);
  color: var(--light-text);
}

.page-directory .search input::placeholder {
  color: var(--light-text-muted);
}

@media (max-width: 820px) {
  .section-controls {
    flex-direction: column;
    align-items: flex-start;
  }

  .filter-chips {
    font-size: 12px;
  }

  .attachment-grid {
    grid-template-columns: 1fr;
  }
}

/* Dashboard Section Styles - Material Design */
.dashboard-section {
  background: #000;
  color: #c9d1d9;
  padding: 50px 20px;
  width: 100%;
  margin-top: 0;
}

.dashboard-container {
  max-width: 1400px;
  margin: 0 auto;
  background: rgba(13, 13, 13, 0.4);
  border-radius: 0;
  padding: 0;
}

/* Material-style Tab Bar */
.dashboard-tabs {
  display: flex;
  gap: 8px;
  border-bottom: none;
  padding: 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
  width: 100%;
  box-sizing: border-box;
}

.dashboard-tabs::-webkit-scrollbar {
  display: none;
}

.tab-item {
  position: relative;
  padding: 12px 20px;
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  border-radius: 8px;
  flex: 1;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 0;
}

.tab-item:hover {
  color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.06);
}

.tab-item.active {
  color: #fff;
  background: rgba(255, 255, 255, 0.12);
  font-weight: 600;
}

.tab-item.active::after {
  display: none;
}

/* Main Content Area - Single Column Layout */
.dashboard-main {
  display: block;
}

.dashboard-chart-area {
  padding: 40px 48px;
  background: transparent;
  display: block;
  position: relative;
  overflow: visible;
  text-align: center;
}

.dashboard-view {
  display: none;
  opacity: 0;
  transition: opacity 0.3s ease;
  width: 100%;
  position: relative;
  overflow: visible;
}

.dashboard-view.active {
  display: block;
  opacity: 1;
}

/* Ensure initial active view is visible */
.dashboard-view.active:first-of-type {
  display: block;
  opacity: 1;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.view-title {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 28px;
  font-weight: 600;
  color: #fff;
  margin: 0 auto 12px;
  letter-spacing: -0.01em;
  text-align: center;
}

.view-description {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 15px;
  color: #8b949e;
  margin: 0 auto 24px;
  line-height: 1.6;
  max-width: 700px;
  text-align: center;
}


.dashboard-section :root {
  --bg-dark: #0d1117;
  --bg-card: #161b22;
  --border: #30363d;
  --text: #c9d1d9;
  --text-muted: #8b949e;
  --accent: #58a6ff;
  --green-1: #0e4429;
  --green-2: #006d32;
  --green-3: #26a641;
  --green-4: #39d353;
}


.stats-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 24px auto 0;
  max-width: 1000px;
  justify-content: center;
}

.stat-card {
  background: rgba(22, 27, 34, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 24px;
  transition: all 0.2s ease;
  backdrop-filter: blur(10px);
}

.stat-card:hover {
  background: rgba(22, 27, 34, 0.7);
  border-color: rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
}

.stat-card h3 {
  color: #8b949e;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin: 0 0 12px 0;
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-weight: 500;
}

.stat-card .value {
  font-size: 32px;
  font-weight: 600;
  color: #fff;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  letter-spacing: -0.02em;
}

.stat-card .change {
  font-size: 0.875rem;
  color: #39d353;
  margin-top: 0.25rem;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}


/* Heatmap Calendar */
.heatmap-container {
  overflow-x: auto;
  padding: 24px 0;
  margin: 20px auto;
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.heatmap-container::-webkit-scrollbar {
  height: 8px;
}

.heatmap-container::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

.heatmap-container::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

.heatmap-container::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

.heatmap {
  display: flex;
  gap: 4px;
  min-width: fit-content;
  width: 100%;
  justify-content: center;
  max-width: 100%;
  margin: 0 auto;
}

.heatmap-week {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex-shrink: 0;
}

.heatmap-day {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: #161b22;
  border: 1px solid rgba(255, 255, 255, 0.05);
  cursor: pointer;
  position: relative;
  transition: transform 0.15s ease, border-color 0.15s ease;
  flex-shrink: 0;
}

.heatmap-day:hover {
  transform: scale(1.15);
  border-color: rgba(255, 255, 255, 0.2);
  z-index: 10;
}

.heatmap-day[data-level="0"] { background: #161b22; }
.heatmap-day[data-level="1"] { background: #0e4429; }
.heatmap-day[data-level="2"] { background: #006d32; }
.heatmap-day[data-level="3"] { background: #26a641; }
.heatmap-day[data-level="4"] { background: #39d353; }

/* Portal-based tooltip for heatmap (attached to document.body) */
.heatmap-tooltip-portal {
  position: fixed;
  background: #0d1117;
  border: 1px solid #30363d;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.75rem;
  white-space: nowrap;
  z-index: 10000;
  color: #c9d1d9;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  pointer-events: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  opacity: 0;
  transition: opacity 0.15s ease;
}

.heatmap-tooltip-portal:not(:empty) {
  opacity: 1;
}

.heatmap-legend {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin: 24px auto 0;
  font-size: 13px;
  color: #8b949e;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  justify-content: center;
}

.heatmap-legend-item {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  flex-shrink: 0;
}

.month-labels {
  display: flex;
  gap: 4px;
  margin: 0 auto 12px;
  font-size: 12px;
  color: #8b949e;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  padding-left: 2px;
  min-width: fit-content;
  justify-content: center;
  width: fit-content;
}

.month-label {
  flex-shrink: 0;
  text-align: left;
}

.month-label-spacer {
  flex-shrink: 0;
}

/* Timeline Chart */
.timeline-chart {
  min-height: 280px;
  display: flex;
  align-items: flex-end;
  gap: 6px; /* JS will also set this; keep a sane default */
  padding: 0;
  margin: 0;
  width: 100%; /* JS sets exact width; this ensures it fills container */
  position: relative;
  overflow: visible;
  box-sizing: border-box;
}

.timeline-bar {
  flex: 0 0 auto; /* fixed-width bars; JS sets width to keep layout stable */
  background: linear-gradient(180deg, #58a6ff 0%, #3d8bf0 100%);
  border-radius: 4px 4px 0 0;
  width: 24px;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  box-shadow: 0 2px 8px rgba(88, 166, 255, 0.2);
}

.timeline-bar:hover {
  opacity: 0.9;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(88, 166, 255, 0.3);
}

.timeline-bar:hover {
  opacity: 0.8;
}

/* Portal-based tooltip (attached to document.body) */
.timeline-tooltip-portal {
  position: fixed;
  background: #0d1117;
  border: 1px solid #30363d;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.75rem;
  white-space: nowrap;
  z-index: 10000;
  color: #c9d1d9;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  pointer-events: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  opacity: 0;
  transition: opacity 0.15s ease;
}

.timeline-tooltip-portal:not(:empty) {
  opacity: 1;
}

.timeline-labels {
  position: relative;
  height: 22px;
  font-size: 0.7rem;
  color: #8b949e;
  margin-top: 0.5rem;
  padding: 0 20px; /* horizontal padding to prevent first/last labels from being clipped */
  margin-left: 0;
  margin-right: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  box-sizing: border-box;
  overflow: visible; /* allow labels to extend slightly beyond container */
}

.timeline-labels .tick {
  position: absolute;
  bottom: 0;
  transform: translateX(-50%);
  white-space: nowrap;
  text-align: center;
  pointer-events: none;
}

/* Daily chart scroll wrappers and slider */
.daily-chart-scroll {
  width: 100%;
  max-width: 100%;
  overflow-x: visible;
  padding: 0;
  margin: 0 auto;
  box-sizing: border-box;
  display: flex;
  justify-content: center;
}

.daily-chart-inner {
  position: relative;
  width: fit-content;   /* content defines width */
  max-width: none;      /* prevent shrinking */
  flex: 0 0 auto;       /* if inside flex, don't shrink */
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.daily-chart-slider {
  display: none;
}

/* Mobile: enable horizontal scroll and show slider */
@media (max-width: 768px) {
  .daily-chart-scroll {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    /* Hide native scrollbar; slider will control scroll */
    scrollbar-width: none; /* Firefox */
    /* Add horizontal padding so first/last labels aren't clipped at viewport edges */
    padding: 0 20px;
    box-sizing: border-box;
  }
  .daily-chart-scroll::-webkit-scrollbar { height: 0; } /* WebKit */
  /* Let JS decide the true inner width; avoid forcing extra blank space */
  .daily-chart-inner { min-width: 0; }
  .daily-chart-slider {
    display: block;
    width: 100%;
    margin-top: 12px;
  }
}

/* Desktop: hide slider explicitly */
@media (min-width: 769px) {
  .daily-chart-slider {
    display: none;
  }
}

/* Themed slider styling (dark coherent look) */
.daily-chart-slider {
  -webkit-appearance: none;
  appearance: none;
  height: 10px;
  background: #161b22;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 999px;
  outline: none;
  transition: background 0.2s ease, border-color 0.2s ease;
}
.daily-chart-slider:hover {
  background: #1d2630;
  border-color: rgba(255,255,255,0.12);
}
/* WebKit thumb */
.daily-chart-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #58a6ff;
  border: 2px solid #0d1117;
  box-shadow: 0 2px 8px rgba(88,166,255,0.35);
  cursor: pointer;
  transition: transform 0.1s ease, background 0.2s ease;
}
.daily-chart-slider:active::-webkit-slider-thumb {
  transform: scale(1.05);
  background: #3d8bf0;
}
/* Firefox track/thumb */
.daily-chart-slider::-moz-range-track {
  height: 10px;
  background: #161b22;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 999px;
}
.daily-chart-slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #58a6ff;
  border: 2px solid #0d1117;
  box-shadow: 0 2px 8px rgba(88,166,255,0.35);
  cursor: pointer;
}
/* Week breakdown */
.week-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1rem;
  max-width: 1400px;
  margin: 0 auto;
}

.week-card {
  background: rgba(13, 17, 23, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 20px;
  transition: all 0.2s ease;
  backdrop-filter: blur(10px);
}

.week-card:hover {
  background: rgba(13, 17, 23, 0.6);
  border-color: rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
}

.week-card h4 {
  margin: 0 0 16px 0;
  font-size: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color: #fff;
  font-weight: 500;
}

.week-card .count {
  background: #58a6ff;
  color: white;
  padding: 0.125rem 0.5rem;
  border-radius: 10px;
  font-size: 0.75rem;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.week-card .bar-container {
  height: 8px;
  background: #161b22;
  border-radius: 4px;
  overflow: hidden;
}

.week-card .bar-fill {
  height: 100%;
  background: linear-gradient(90deg, #006d32, #39d353);
  border-radius: 4px;
  transition: width 0.3s ease;
}

/* Backlog Section */
.backlog-list {
  max-height: 400px;
  overflow-y: auto;
}

.backlog-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem;
  border-bottom: 1px solid #30363d;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.backlog-item:last-child {
  border-bottom: none;
}

.backlog-item .date {
  font-size: 0.75rem;
  color: #8b949e;
  min-width: 80px;
}

.backlog-item .title {
  flex: 1;
  font-size: 0.875rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #c9d1d9;
}

.backlog-item .category {
  font-size: 0.7rem;
  background: #0d1117;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  color: #8b949e;
}

/* Category breakdown */
.category-bars {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  max-width: 1200px;
  margin: 0 auto;
}

.category-row {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.category-row .label {
  min-width: 180px;
  font-size: 15px;
  color: #c9d1d9;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-weight: 400;
}

.category-row .bar-wrapper {
  flex: 1;
  height: 32px;
  background: rgba(13, 17, 23, 0.5);
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.category-row .bar {
  height: 100%;
  background: #58a6ff;
  display: flex;
  align-items: center;
  padding-left: 0.5rem;
  font-size: 0.75rem;
  color: white;
  transition: width 0.5s ease;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.category-row:nth-child(1) .bar { background: #f97316; }
.category-row:nth-child(2) .bar { background: #8b5cf6; }
.category-row:nth-child(3) .bar { background: #06b6d4; }
.category-row:nth-child(4) .bar { background: #22c55e; }
.category-row:nth-child(5) .bar { background: #ec4899; }
.category-row:nth-child(6) .bar { background: #eab308; }

/* Dashboard responsive */
@media (max-width: 1024px) {
  .dashboard-chart-area {
    padding: 32px 24px;
  }
  
  .dashboard-tabs {
    padding: 6px;
    overflow-x: auto;
    gap: 6px;
  }
  
  .tab-item {
    padding: 10px 16px;
    font-size: 13px;
    flex: 1;
    min-width: 0;
    border-radius: 6px;
  }
}

@media (max-width: 768px) {
  .dashboard-section {
    padding: 40px 12px;
  }
  
  .dashboard-chart-area {
    padding: 24px 16px;
  }
  
  .dashboard-tabs {
    padding: 4px;
    gap: 8px;
    /* Stack tabs vertically on small screens */
    flex-direction: column;
    align-items: stretch;
    width: 100%;
    max-width: 100%;
    overflow: visible;
  }
  
  .tab-item {
    padding: 12px 14px;
    font-size: 14px;
    width: 100%;
    min-width: 0;
    border-radius: 6px;
    text-align: center;
    white-space: normal; /* allow wrapping for long labels */
  }
  
  .view-title {
    font-size: 24px;
  }
  
  .view-description {
    font-size: 14px;
    margin-bottom: 32px;
  }
  
  .stats-row {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
  
  .stat-card {
    padding: 20px;
  }
  
  .stat-card .value {
    font-size: 28px;
  }
}

/* Catalog Layout Styles */
.directory-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 32px;
  align-items: start;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 20px;
}

.directory-sidebar {
  position: sticky;
  top: 20px;
  background: var(--light-bg);
  border: 1px solid var(--light-border);
  border-radius: 8px;
  padding: 20px;
  max-height: calc(100vh - 40px);
  overflow-y: auto;
}

.sidebar-search {
  margin-bottom: 24px;
}

.sidebar-search .search {
  width: 100%;
}

.sidebar-search input {
  width: 100%;
  padding: 10px 14px;
  border: 1px solid var(--light-border);
  border-radius: 6px;
  font-size: 14px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.filter-section {
  margin-bottom: 32px;
}

.filter-section:last-child {
  margin-bottom: 0;
}

.filter-section__title {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  font-weight: 600;
  color: var(--light-text);
  margin: 0 0 12px 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.filter-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.filter-list--scrollable {
  max-height: 400px;
  overflow-y: auto;
  padding-right: 4px;
}

.filter-list--scrollable::-webkit-scrollbar {
  width: 6px;
}

.filter-list--scrollable::-webkit-scrollbar-track {
  background: transparent;
}

.filter-list--scrollable::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}

.filter-list--scrollable::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

.filter-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  color: var(--light-text);
  border: 1px solid transparent;
}

.filter-item:hover {
  background: rgba(11, 87, 208, 0.08);
  border-color: rgba(11, 87, 208, 0.2);
  box-shadow: 0 2px 4px rgba(11, 87, 208, 0.1);
  transform: translateY(-1px);
}

.filter-item input[type="radio"],
.filter-item input[type="checkbox"] {
  margin: 0;
  cursor: pointer;
}

.filter-item label {
  flex: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.filter-item__count {
  color: var(--light-text-muted);
  font-size: 13px;
  font-weight: 400;
}

.filter-item.active {
  background: rgba(11, 87, 208, 0.1);
  color: #0b57d0;
  font-weight: 500;
}

.filter-item.active .filter-item__count {
  color: #0b57d0;
}

.clear-filters-btn {
  width: 100%;
  padding: 10px;
  margin-top: 12px;
  background: transparent;
  border: 1px solid var(--light-border);
  border-radius: 6px;
  color: var(--light-text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.clear-filters-btn:hover {
  background: var(--light-bg-hover);
  border-color: var(--light-text);
}

.directory-main {
  min-width: 0;
}

.results-list {
  display: flex;
  flex-direction: column;
  gap: 24px;
  margin-top: 24px;
}

.result-item {
  padding: 24px;
  background: var(--light-bg);
  border: 1px solid var(--light-border);
  border-radius: 8px;
  transition: all 0.2s ease;
}

.result-item:hover {
  border-color: rgba(11, 87, 208, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.result-item__title {
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  font-size: 24px;
  font-weight: 600;
  margin: 0 0 12px 0;
  line-height: 1.2;
}

.result-item__title a {
  color: var(--light-text);
  text-decoration: none;
}

.result-item__title a:hover {
  color: var(--light-link);
  text-decoration: underline;
}

.result-item__preview {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 15px;
  line-height: 1.6;
  color: var(--light-text-body);
  margin: 0 0 16px 0;
}

.result-item__meta {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 13px;
  color: var(--light-text-muted);
  margin: 0 0 12px 0;
}

.result-item__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--light-border);
}

.result-item__tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  flex: 1;
}

.result-item__attachment-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: rgba(11, 87, 208, 0.08);
  color: #0b57d0;
  border-radius: 12px;
  font-size: 12px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-weight: 500;
}

.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: var(--light-text-muted);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 16px;
}

/* Responsive: Mobile drawer for filters */
@media (max-width: 1024px) {
  .directory-layout {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .directory-sidebar {
    position: relative;
    top: 0;
    max-height: none;
    border-radius: 8px;
    margin-bottom: 20px;
  }

  .filter-section {
    margin-bottom: 24px;
  }

  .filter-list--scrollable {
    max-height: 300px;
  }
}

@media (max-width: 768px) {
  .brand__title {
    font-size: 16px;
    max-width: 200px;
  }

  .directory-layout {
    padding: 0 16px;
  }

  .directory-sidebar {
    padding: 16px;
  }

  .result-item {
    padding: 20px;
  }

  .result-item__title {
    font-size: 20px;
  }

  .result-item__preview {
    font-size: 14px;
  }

  .result-item__footer {
    flex-direction: column;
    align-items: flex-start;
  }
}

/* Similar Articles Section */
.similar-articles {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--light-border);
}

.similar-articles__title {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--light-text-muted);
  margin-bottom: 12px;
}

.similar-articles__list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.similar-article {
  display: flex;
  flex-direction: column;
  padding: 10px 12px;
  background: var(--light-bg-hover);
  border: 1px solid var(--light-border);
  border-radius: 6px;
  text-decoration: none;
  transition: all 0.2s ease;
  cursor: pointer;
}

.similar-article:hover {
  background: rgba(11, 87, 208, 0.08);
  border-color: rgba(11, 87, 208, 0.3);
  transform: translateX(2px);
}

.similar-article__title {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 14px;
  font-weight: 500;
  color: var(--light-text);
  margin-bottom: 4px;
  line-height: 1.4;
}

.similar-article__category {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: 12px;
  color: var(--light-text-muted);
}